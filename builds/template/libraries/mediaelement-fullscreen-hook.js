define(["core/js/adapt","core/js/device","libraries/mediaelement-and-player"],(function(Adapt,device){var mepPrototype=$.extend({},window.mejs.MediaElementPlayer.prototype);$.extend(window.mejs.MediaElementPlayer.prototype,{detectFullscreenMode:function(){var vendorPrefix=this.getVendorPrefix();var fsEventName="on"+vendorPrefix+"fullscreenchange";if(document[fsEventName]===null){document[fsEventName]=function fullScreenEventHandler(){var elementName=vendorPrefix===""?"fullscreenElement":vendorPrefix+"FullscreenElement";if(document[elementName]!==null){$.inview.lock("mediaelement");Adapt.trigger("media:fullscreen:enter")}else{$.inview.unlock("mediaelement");Adapt.trigger("media:fullscreen:exit")}}}return mepPrototype.detectFullscreenMode.apply(this,arguments)},getVendorPrefix:function(){var browser=device.browser;if(browser==="internet explorer"){return"ms"}if(browser==="microsoft edge"||browser==="safari"){return"webkit"}return""}})}));